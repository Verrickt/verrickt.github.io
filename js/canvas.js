!function () { "use strict"; var d = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (e) { return window.setTimeout(e, 1e3 / 60) }, h = [], l = document.getElementById("canvas"), s = l.getContext("2d"), c = 400, m = -100, u = -100; function e() { l.width = l.scrollWidth, l.height = l.scrollHeight, c = Math.min(400, l.width / 5) } function v() { if (s.clearRect(0, 0, l.width, l.height), c > h.length) for (var e = h.length; e < c; e++)h.push(f()); for (e = 0; e < h.length; e++) { var t = h[e], n = m, i = u, a = t.x, o = t.y, r = Math.sqrt((a - n) * (a - n) + (o - i) * (o - i)); r < 150 ? (a = (n - a) / r, o = (i - o) / r, r = 150 / (r * r) / 2, t.velX -= r * a, t.velY -= r * o) : (t.velX *= .98, t.velY <= t.speed && (t.velY = t.speed), t.velX += Math.cos(t.step += .05) * t.stepSize), s.fillStyle = "rgba(255,255,255," + t.opacity + ")", t.y += t.velY, t.x += t.velX, (t.y >= l.height || t.y <= 0) && !1 === w(t) ? h.splice(e--, 1) : (t.x >= l.width || t.x <= 0) && !1 === w(t) ? h.splice(e--, 1) : (s.beginPath(), s.arc(t.x, t.y, t.size, 0, 2 * Math.PI), s.fill()) } d(v) } function w(e) { return !(c < h.length) && (e.x = Math.floor(Math.random() * l.width), e.y = 0, e.size = 3 * Math.random() + 2, e.speed = +Math.random() + .5, e.velY = e.speed, e.velX = 0, e.opacity = .5 * Math.random() + .3, !0) } function f() { var e = Math.floor(Math.random() * l.width), t = Math.floor(Math.random() * l.height), n = 3 * Math.random() + 2, i = +Math.random() + .5, a = .5 * Math.random() + .3; return { speed: i, velY: i, velX: 0, x: e, y: t, size: n, stepSize: Math.random() / 30, step: 0, opacity: a } } var t = document.querySelector(".splash"); t && t.addEventListener("mousemove", function (e) { m = e.clientX, u = e.clientY }), document.addEventListener("DOMContentLoaded", function () { window.addEventListener("resize", e), e(), function () { c = l.width / 5; for (var e = 0; e < c; e++)h.push(f()); v() }() }) }();
